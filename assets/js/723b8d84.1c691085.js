"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[423],{1745:(e,i,t)=>{t.d(i,{A:()=>s});const s=t.p+"assets/images/03-max-copies-45cd59e6ac96920b16679aa06152f5a1.jpg"},4706:(e,i,t)=>{t.d(i,{A:()=>s});const s=t.p+"assets/images/02-max-copies-978a78e92b03d589a74726565f8194fc.jpg"},6076:(e,i,t)=>{t.d(i,{A:()=>s});const s=t.p+"assets/images/04-max-copies-61a4c649fa73f424a44dd1dae977d78c.jpg"},7079:(e,i,t)=>{t.d(i,{A:()=>s});const s=t.p+"assets/images/01-max-copies-183441bba87d60a1dc0bd97595feca62.jpg"},8453:(e,i,t)=>{t.d(i,{R:()=>n,x:()=>r});var s=t(6540);const a={},c=s.createContext(a);function n(e){const i=s.useContext(c);return s.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:n(e.components),s.createElement(c.Provider,{value:i},e.children)}},9630:(e,i,t)=>{t.r(i),t.d(i,{assets:()=>p,contentTitle:()=>r,default:()=>h,frontMatter:()=>n,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"Chirpstack-HPR/max-copies","title":"Max Copies","description":"What is max copies","source":"@site/docs/Chirpstack-HPR/02-max-copies.md","sourceDirName":"Chirpstack-HPR","slug":"/chirpstack-hpr/max-copies","permalink":"/chirpstack-hpr.github.io/docs/chirpstack-hpr/max-copies","draft":false,"unlisted":false,"editUrl":"https://github.com/ccall48/chirpstack-hpr.github.io/tree/master/docs/docs/Chirpstack-HPR/02-max-copies.md","tags":[{"inline":true,"label":"dc","permalink":"/chirpstack-hpr.github.io/docs/tags/dc"},{"inline":true,"label":"per device","permalink":"/chirpstack-hpr.github.io/docs/tags/per-device"},{"inline":true,"label":"max copies","permalink":"/chirpstack-hpr.github.io/docs/tags/max-copies"}],"version":"current","sidebarPosition":2,"frontMatter":{"id":"max-copies","title":"Max Copies","sidebar_position":2,"sidebar_label":"Max Copies","slug":"/chirpstack-hpr/max-copies","tags":["dc","per device","max copies"]},"sidebar":"tutorialSidebar","previous":{"title":"Initial Setup","permalink":"/chirpstack-hpr.github.io/docs/chirpstack-hpr/initial-setup"},"next":{"title":"AWS SQS","permalink":"/chirpstack-hpr.github.io/docs/integration/aws-sqs"}}');var a=t(4848),c=t(8453);const n={id:"max-copies",title:"Max Copies",sidebar_position:2,sidebar_label:"Max Copies",slug:"/chirpstack-hpr/max-copies",tags:["dc","per device","max copies"]},r=void 0,p={},o=[{value:"What is max copies",id:"what-is-max-copies",level:2},{value:"How to set max copies",id:"how-to-set-max-copies",level:2},{value:"From Chirpstack WebUI",id:"from-chirpstack-webui",level:3},{value:"From Chirpstack REST API",id:"from-chirpstack-rest-api",level:3},{value:"From Chirpstack gRPC API",id:"from-chirpstack-grpc-api",level:3}];function d(e){const i={code:"code",em:"em",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",...(0,c.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.h2,{id:"what-is-max-copies",children:"What is max copies"}),"\n",(0,a.jsx)(i.p,{children:"By default Chirpstack-HPR sets a max copies session key per device with the helium config service if\nnot set by the user. The default max copies if not set per device reverts to the default setting set\nfor the route-id when it was created."}),"\n",(0,a.jsx)(i.h2,{id:"how-to-set-max-copies",children:"How to set max copies"}),"\n",(0,a.jsx)(i.h3,{id:"from-chirpstack-webui",children:"From Chirpstack WebUI"}),"\n",(0,a.jsxs)(i.p,{children:["Applications/",(0,a.jsx)(i.em,{children:"application name"}),"/"]}),"\n",(0,a.jsx)(i.p,{children:(0,a.jsx)(i.img,{alt:"applications",src:t(7079).A+"",width:"1920",height:"1080"})}),"\n",(0,a.jsxs)(i.p,{children:["Click on the device ",(0,a.jsx)(i.code,{children:"DevEui"})," link for the device you wish to alter or set the max copies for.\n",(0,a.jsx)(i.img,{alt:"applications",src:t(4706).A+"",width:"1920",height:"1080"})]}),"\n",(0,a.jsxs)(i.p,{children:["Once in the device dashboard, click on the ",(0,a.jsx)(i.code,{children:"Configuration"})," tab.\n",(0,a.jsx)(i.img,{alt:"applications",src:t(1745).A+"",width:"1920",height:"1080"})]}),"\n",(0,a.jsxs)(i.p,{children:["When in the configuration tab click on the ",(0,a.jsx)(i.code,{children:"Variables"})," tab.\n",(0,a.jsx)(i.img,{alt:"applications",src:t(6076).A+"",width:"1920",height:"1080"})]}),"\n",(0,a.jsx)(i.h3,{id:"from-chirpstack-rest-api",children:"From Chirpstack REST API"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-json",metastring:'title="Endpoint: /api/devices/{device.devEui} Update the given device 1234 copies"',children:'{\n  "device": {\n    "applicationId": "string",\n    "description": "string",\n    "deviceProfileId": "string",\n    "isDisabled": false,\n    "joinEui": "string",\n    "name": "string",\n    "skipFcntCheck": false,\n    "tags": {},\n    },\n    "variables": {\n      "max_copies": "1234" // <- Must be input as a string\n    }\n}\n'})}),"\n",(0,a.jsx)(i.h3,{id:"from-chirpstack-grpc-api",children:"From Chirpstack gRPC API"}),"\n",(0,a.jsx)(i.pre,{children:(0,a.jsx)(i.code,{className:"language-py",metastring:'title="Example Python Script, Update the given device 1234 copies"',children:"from chirpstack_api import api\nimport grpc\n\nserver = '<IP|HOST:PORT>'\napikey = '<APIKEY>'\nauth_token = [('authorization', f'Bearer {apikey}')]\n\nwith grpc.insecure_channel(server) as channel:\n    try:\n        client = api.DeviceServiceStub(channel)\n        update_device = api.UpdateDeviceRequest()\n        update_device.device.application_id = 'string'\n        update_device.device.description = 'string'\n        update_device.device.dev_eui = 'string'\n        update_device.device.device_profile_id = 'string'\n        update_device.device.is_disabled = False\n        update_device.device.join_eui = 'string'\n        update_device.device.name = 'string'\n        update_device.device.skip_fcnt_check = False\n        update_device.device.variables['max_copies'] = '1234' # <- Must be input as a string\n        update_device_resp = client.Update(update_device, metadata=auth_token)\n    except Exception as e:\n        print(f'gRPC Update Error: {e}')\n\nprint('gRPC Update Completed!')\n"})})]})}function h(e={}){const{wrapper:i}={...(0,c.R)(),...e.components};return i?(0,a.jsx)(i,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}}}]);