<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docker-compose" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">ChirpStack Helium on Docker Compose | Chirpstack-HPR</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ccall48.githum.io/chirpstack-hpr.github.io/docs/chirpstack-helium"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ChirpStack Helium on Docker Compose | Chirpstack-HPR"><meta data-rh="true" name="description" content="ChirpStack Helium"><meta data-rh="true" property="og:description" content="ChirpStack Helium"><meta data-rh="true" property="og:image" content="https://docs.helium.com/img/link-image.png"><meta data-rh="true" name="twitter:image" content="https://docs.helium.com/img/link-image.png"><link data-rh="true" rel="icon" href="/chirpstack-hpr.github.io/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ccall48.githum.io/chirpstack-hpr.github.io/docs/chirpstack-helium"><link data-rh="true" rel="alternate" href="https://ccall48.githum.io/chirpstack-hpr.github.io/docs/chirpstack-helium" hreflang="en"><link data-rh="true" rel="alternate" href="https://ccall48.githum.io/chirpstack-hpr.github.io/docs/chirpstack-helium" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Chirpstack Helium","item":"https://ccall48.githum.io/chirpstack-hpr.github.io/docs/chirpstack-helium"}]}</script><link rel="stylesheet" href="/chirpstack-hpr.github.io/assets/css/styles.e7f21f8f.css">
<script src="/chirpstack-hpr.github.io/assets/js/runtime~main.c988f542.js" defer="defer"></script>
<script src="/chirpstack-hpr.github.io/assets/js/main.8a106c38.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/chirpstack-hpr.github.io/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/chirpstack-hpr.github.io/"><div class="navbar__logo"><img src="/chirpstack-hpr.github.io/img/logo.svg" alt="Chirpstack-HPR" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/chirpstack-hpr.github.io/img/logo.svg" alt="Chirpstack-HPR" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Chirpstack-HPR</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/chirpstack-hpr.github.io/docs/intro">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chirpstack-hpr.github.io/docs/intro">Project Intro</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/chirpstack-hpr.github.io/docs/chirpstack-helium">Chirpstack Helium</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/chirpstack-hpr.github.io/docs/chirpstack-hpr-setup">Chirpstack-HPR Setup</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/chirpstack-hpr.github.io/docs/chirpstack-hpr/initial-setup">Chirpstack-HPR</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/chirpstack-hpr.github.io/docs/integration/aws-sqs">Integrations</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/chirpstack-hpr.github.io/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Chirpstack Helium</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>ChirpStack Helium on Docker Compose</h1></header><div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>Requirment</div><div class="admonitionContent_BuS1"><p><strong>Helium Config Service Cli</strong>
<code>helium-config-service-cli</code> is required for some of these steps.</p><ol>
<li>Download latest suitable pre-compiled binary:
<a href="https://github.com/helium/helium-config-service-cli/releases" target="_blank" rel="noopener noreferrer">Latest Release Here</a>.</li>
<li>Compile from source yourself locally:
<a href="https://docs.helium.com/iot/run-an-lns/buy-an-oui#install-cli" target="_blank" rel="noopener noreferrer">Steps to compile from source</a>.</li>
</ol></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="infrastructure-requirements">Infrastructure Requirements<a href="#infrastructure-requirements" class="hash-link" aria-label="Direct link to Infrastructure Requirements" title="Direct link to Infrastructure Requirements">​</a></h2>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Suggested Minimum Requirements</div><div class="admonitionContent_BuS1"><p>The infrastructure requirements noted below are sufficient for getting a ChirpStack instance up and
running for experimentation purposes, but are not suggested for use in a mission critical, production
setting.</p><ul>
<li>4 vCPU</li>
<li>8GB RAM</li>
<li>100GB SSD hard drive</li>
<li>CPU with x86 architecture</li>
<li>Ubuntu 22.04 or 24.04</li>
</ul></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="server-configuration">Server Configuration<a href="#server-configuration" class="hash-link" aria-label="Direct link to Server Configuration" title="Direct link to Server Configuration">​</a></h2>
<p>While there are several methods for installing ChirpStack, this guide will demonstrate a
configuration using Docker and the
<a href="https://github.com/chirpstack/chirpstack-docker" target="_blank" rel="noopener noreferrer">chirpstack-docker</a> repository.</p>
<p>Accordingly, on the server intended to run the ChirpStack instance,
<a href="https://docs.docker.com/engine/install/ubuntu/#install-using-the-repository" target="_blank" rel="noopener noreferrer">install Docker</a> using
the <code>apt</code> repository on Ubuntu.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">Install Docker using the apt repository</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Add Docker&#x27;s official GPG key:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get update</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install ca-certificates curl</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo install -m 0755 -d /etc/apt/keyrings</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo curl -fsSL https://download.docker.com/linux/ubuntu/gpg -o /etc/apt/keyrings/docker.asc</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo chmod a+r /etc/apt/keyrings/docker.asc</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Add the repository to Apt sources:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">echo \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  &quot;deb [arch=$(dpkg --print-architecture) signed-by=/etc/apt/keyrings/docker.asc] https://download.docker.com/linux/ubuntu \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  $(. /etc/os-release &amp;&amp; echo &quot;$VERSION_CODENAME&quot;) stable&quot; | \</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  sudo tee /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get update</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Install the latest version:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo apt-get install docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Verify that the Docker Engine installation is successful by running the hello-world image:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">sudo docker run hello-world</span><br></span></code></pre></div></div>
<p>Next, clone the <code>chirpstack-docker</code> repository.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">Clone the chirpstack-docker repository.</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">git clone https://github.com/chirpstack/chirpstack-docker.git</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="chirpstack-port-accessibility">ChirpStack Port Accessibility<a href="#chirpstack-port-accessibility" class="hash-link" aria-label="Direct link to ChirpStack Port Accessibility" title="Direct link to ChirpStack Port Accessibility">​</a></h2>
<p>For the configuration described in this guide, the following ports need to be accessible on the
server running the ChirpStack instance.</p>
<ol>
<li>TCP <code>8080</code></li>
</ol>
<ul>
<li>The ChirpStack web UI and gRPC API are accessible over <code>http://&lt;public_ip_address&gt;:8080</code></li>
</ul>
<ol start="2">
<li>UDP <code>1700</code></li>
</ol>
<ul>
<li>As described in further detail below, the <code>chirpstack-gateway-bridge</code> container for the EU868
region binds to UDP <code>1700</code>. As such, for EU868-based sensor traffic to reach ChirpStack, UDP
<code>1700</code> needs to be open.</li>
</ul>
<ol start="3">
<li>UDP <code>1701</code></li>
</ol>
<ul>
<li>Similarly, the <code>chirpstack-gateway-bridge</code> container for the US915 region binds to UDP <code>1701</code>. As
such, for US915-based sensor traffic to reach ChirpStack, UDP <code>1701</code> needs to be open.</li>
</ul>
<p>Please note that if more <code>chirpstack-gateway-bridge</code> containers are added for additional LoRaWAN
regions, the corresponding UDP ports will need to be added in a similar manner to UDP <code>1700</code> and
<code>1701</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="chirpstack-configuration">ChirpStack Configuration<a href="#chirpstack-configuration" class="hash-link" aria-label="Direct link to ChirpStack Configuration" title="Direct link to ChirpStack Configuration">​</a></h2>
<p>The ChirpStack settings need to be configured so that ChirpStack can operate on the Helium Network.
In particular, the <code>chirpstack.toml</code> and <code>docker-compose.yml</code> files, respectively located in the
<code>./chirpstack-docker/configuration/chirpstack/</code> and <code>./chirpstack-docker/</code> directories, need to be
updated. Prior to doing so, however, Helium-specific information for the OUI needs to be gathered to
be applied in the ChirpStack configuration.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="gather-helium-devaddr-subnet-information-for-oui">Gather Helium DevAddr Subnet Information for OUI<a href="#gather-helium-devaddr-subnet-information-for-oui" class="hash-link" aria-label="Direct link to Gather Helium DevAddr Subnet Information for OUI" title="Direct link to Gather Helium DevAddr Subnet Information for OUI">​</a></h3>
<p>Use the Helium Config Service CLI to determine the subnet masks for the <code>DevAddr</code> associated with
the LNS. In ChirpStack, the subnet masks will be referred to as <code>dev_addr_prefixes</code>.</p>
<p>To do so, first retrieve the <code>DevAddr</code> constraints for the OUI. The relevant values are each of the
<code>start_addr</code> and <code>end_addr</code> groups provided in the <code>devaddr_constraints</code> array.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">helium-config-service-cli org get --oui &lt;OUI&gt;</span><br></span></code></pre></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">Example result from helium-config-service-cli org get --oui command</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;org&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;oui&quot;</span><span class="token operator">:</span><span class="token plain"> &lt;OUI&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;owner&quot;</span><span class="token operator">:</span><span class="token plain"> &lt;Owner Public Key&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;payer&quot;</span><span class="token operator">:</span><span class="token plain"> &lt;Payer Public Key&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;delegate_keys&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      &lt;Deletgate Public Key&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;locked&quot;</span><span class="token operator">:</span><span class="token plain"> &lt;Locked status&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;net_id&quot;</span><span class="token operator">:</span><span class="token plain"> &lt;Net ID&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;devaddr_constraints&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;start_addr&quot;</span><span class="token operator">:</span><span class="token plain"> &lt;Starting DevAddr&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// First DevAddr constraint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token property">&quot;end_addr&quot;</span><span class="token operator">:</span><span class="token plain"> &lt;Ending DevAddr&gt; </span><span class="token comment" style="color:rgb(98, 114, 164)">// Second DevAddr constraint</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<p>Next, using the <code>start_addr</code> and <code>end_addr</code> values, identify the <code>DevAddr</code> subnet masks, (e.g.,
labeled as <code>subnets</code> in the returned JSON). If there are multiple, non-contiguous
<code>devaddr_constraints</code>, this will need to be done for each set of constraints.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">helium-config-service-cli subnet-mask &lt;Starting DevAddr&gt; &lt;Ending DevAddr&gt;</span><br></span></code></pre></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">Example result from helium-config-service-cli subnet-mask command</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;range&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;start_addr&quot;</span><span class="token operator">:</span><span class="token plain"> &lt;Starting DevAddr&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;end_addr&quot;</span><span class="token operator">:</span><span class="token plain"> &lt;Ending DevAddr&gt;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;subnets&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &lt;Subnet Mask&gt; </span><span class="token comment" style="color:rgb(98, 114, 164)">// Desired value corresponding to the ChirpStack dev_addr_prefixes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="update-chirpstacktoml">Update chirpstack.toml<a href="#update-chirpstacktoml" class="hash-link" aria-label="Direct link to Update chirpstack.toml" title="Direct link to Update chirpstack.toml">​</a></h3>
<p>Access <code>./chirpstack-docker/configuration/chirpstack/chirpstack.toml</code>.</p>
<p>Modify the following sections of <code>chirpstack.toml</code>. All other sections can be left as is.</p>
<ul>
<li>Under <code>[network]</code>:<!-- -->
<ul>
<li>Set <code>net_id</code> to the Helium Net ID, <code>00003C</code>, e.g., <code>net_id=&quot;00003C&quot;</code>.</li>
<li>Add <code>dev_addr_prefixes</code> with the value <code>[&lt;Subnet Mask&gt;]</code>, e.g.,
<code>dev_addr_prefixes=[&lt;Subnet Mask&gt;]</code>.<!-- -->
<ul>
<li>As an illustrative example, if the <code>helium-config-service-cli subnet-mask</code> command indicated a
subnet mask of <code>00000000/29</code>, then add <code>dev_addr_prefixes=[&quot;00000000/29&quot;]</code>.</li>
<li>If the OUI has multiple non-sequential <code>DevAddr</code> ranges, separate the corresponding subnet
masks by comma. For instance, <code>dev_addr_prefixes=[&quot;00000000/29&quot;, &quot;00000010/29&quot;]</code>.</li>
</ul>
</li>
<li>Update the <code>enabled_regions</code> array to include the desired regions.<!-- -->
<ul>
<li>Multiple regions can be enabled simultaneously.</li>
<li>Each added region must match the <code>id</code> parameter of the <code>[[regions]]</code> configuration in the
corresponding <code>./chirpstack-docker/configuration/chirpstack/&lt;region&gt;.toml</code> file. In other
words, if the <code>id</code> parameter of the <code>[[regions]]</code> configuration is <code>us915_0</code>, add <code>us915_0</code> to
the <code>enabled_regions</code> array.</li>
</ul>
</li>
</ul>
</li>
<li>Under <code>[api]</code>:<!-- -->
<ul>
<li>Update the <code>secret</code> value used for generating login and API tokens.</li>
<li>Make sure this value is never exposed.</li>
</ul>
</li>
<li>Create a new, top level <code>[gateway]</code> section:<!-- -->
<ul>
<li>Below, add <code>allow_unknown_gateways=true</code></li>
</ul>
</li>
</ul>
<p>An example of the above-mentioned modified sections of <code>chirpstack.toml</code> is provided below. Please
note that the these values are exemplary and need to be filled in with the correct information for
your ChirpStack configuration. Again, all other sections in <code>chirpstack.toml</code> can be left as is.</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Network related configuration.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[network]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Network identifier (NetID, 3 bytes) encoded as HEX (e.g. 010203).</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Helium net_id=&quot;00003C&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  net_id=&quot;00003C&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Helium 8 block dev address prefix 29</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # If you have multiple blocks you can add them as an array</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  dev_addr_prefixes=[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;78000000/29&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Enabled regions.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  #</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Multiple regions can be enabled simultaneously. Each region must match</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # the &#x27;id&#x27; parameter of the region configuration in &#x27;[[regions]]&#x27;.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  enabled_regions=[</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;eu868&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    &quot;us915_1&quot;,</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  ]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># API interface configuration.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[api]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Secret.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  #</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # This secret is used for generating login and API tokens, make sure this</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # is never exposed. Changing this secret will invalidate all login and API</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # tokens. The following command can be used to generate a random secret:</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  #   openssl rand -base64 32</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  secret=&quot;REPLACE-WITH-YOUR-SECRET-HERE&quot;</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Global gateway configuration.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># Please note that backend configuration can be found in the per-region</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"># configuration in ./chirpstack-docker/configuration/chirpstack/&lt;region&gt;.toml</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">[gateway]</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # Allow unknown gateways.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  #</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # If set to true, then uplinks received from gateways not configured in</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  # ChirpStack will be allowed.</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  allow_unknown_gateways=true</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="update-docker-composeyml">Update docker-compose.yml<a href="#update-docker-composeyml" class="hash-link" aria-label="Direct link to Update docker-compose.yml" title="Direct link to Update docker-compose.yml">​</a></h3>
<p>Remove the entire service definition for <code>chirpstack-gateway-bridge-basicstation</code>. If you do
not intended on using the REST API you can also go ahead and remove the <code>chirpstack-rest-api</code>
definition as it will needed.</p>
<div class="theme-admonition theme-admonition-success admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Recommended Image Definitions</div><div class="admonitionContent_BuS1"><ul>
<li><code>image: chirpstack/chirpstack:4</code></li>
<li><code>image: chirpstack/chirpstack-gateway-bridge:4</code></li>
</ul><p>This will pull the latest stable images.</p></div></div>
<p>To support every region beyond the default EU868 defined in the <code>enabled_regions</code> noted
above in the <code>settings.toml</code> file, add <code>chirpstack-gateway-bridge</code> service definitions for each
additional LoRaWAN region. Although this tutorial demonstrates adding support for US915 and EU868
these steps can be adapted for other regions.</p>
<p>To do so, amend the <code>chirpstack-gateway-bridge</code> label to be <code>chirpstack-gateway-bridge-eu868</code> then
create a new service definition for <code>chirpstack-gateway-bridge-us915</code> as provided below:</p>
<div class="language-yml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">chirpstack-gateway-bridge-us915_1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chirpstack/chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">gateway</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bridge</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">gateway</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bridge</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">us915_1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">stopped</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> 1701</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">1700/udp </span><span class="token comment" style="color:rgb(98, 114, 164)"># The chirpstack-gateway-bridge-us915 container will bind to host port 1701</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> ./configuration/chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">gateway</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bridge</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">/etc/chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">gateway</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bridge</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">environment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> INTEGRATION__MQTT__EVENT_TOPIC_TEMPLATE=us915_1/gateway/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .GatewayID </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">/event/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .EventType </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> INTEGRATION__MQTT__STATE_TOPIC_TEMPLATE=us915_1/gateway/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .GatewayID </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">/state/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .StateType </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> INTEGRATION__MQTT__COMMAND_TOPIC_TEMPLATE=us915_1/gateway/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .GatewayID </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">/command/</span><span class="token comment" style="color:rgb(98, 114, 164)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">depends_on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> mosquitto</span><br></span></code></pre></div></div>
<p>See the
<a href="https://www.chirpstack.io/docs/chirpstack-gateway-bridge/configuration.html" target="_blank" rel="noopener noreferrer">ChirpStack Gateway Bridge documentation</a>
for full description on the configuration possibilities for the <code>chirpstack-gateway-bridge</code> service.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-of-a-complete-docker-composeyml-file">Example of a complete <code>docker-compose.yml</code> file<a href="#example-of-a-complete-docker-composeyml-file" class="hash-link" aria-label="Direct link to example-of-a-complete-docker-composeyml-file" title="Direct link to example-of-a-complete-docker-composeyml-file">​</a></h3>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">Example Chirpstack-Docker docker-compose.yml file.</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">services</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chirpstack/chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chirpstack</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">command</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">c /etc/chirpstack</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">stopped</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> ./configuration/chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">/etc/chirpstack</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">depends_on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> postgres</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> mosquitto</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> redis</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">environment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> MQTT_BROKER_HOST=mosquitto</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> REDIS_HOST=redis</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> POSTGRESQL_HOST=postgres</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;8080:8080&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">chirpstack-gateway-bridge-eu868</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chirpstack/chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">gateway</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bridge</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">gateway</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bridge</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">eu868</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">stopped</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;1700:1700/udp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> ./configuration/chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">gateway</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bridge</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">/etc/chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">gateway</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bridge</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">environment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> INTEGRATION__MQTT__EVENT_TOPIC_TEMPLATE=eu868/gateway/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .GatewayID </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">/event/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .EventType </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> INTEGRATION__MQTT__STATE_TOPIC_TEMPLATE=eu868/gateway/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .GatewayID </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">/state/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .StateType </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> INTEGRATION__MQTT__COMMAND_TOPIC_TEMPLATE=eu868/gateway/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .GatewayID </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">/command/</span><span class="token comment" style="color:rgb(98, 114, 164)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">depends_on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> mosquitto</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">chirpstack-gateway-bridge-us915_1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chirpstack/chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">gateway</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bridge</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">gateway</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bridge</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">us915_1</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">stopped</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;1701:1700/udp&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> ./configuration/chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">gateway</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bridge</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">/etc/chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">gateway</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bridge</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">environment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> INTEGRATION__MQTT__EVENT_TOPIC_TEMPLATE=us915_1/gateway/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .GatewayID </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">/event/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .EventType </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> INTEGRATION__MQTT__STATE_TOPIC_TEMPLATE=us915_1/gateway/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .GatewayID </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">/state/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .StateType </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> INTEGRATION__MQTT__COMMAND_TOPIC_TEMPLATE=us915_1/gateway/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> .GatewayID </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain">/command/</span><span class="token comment" style="color:rgb(98, 114, 164)">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">depends_on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> mosquitto</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">chirpstack-rest-api</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chirpstack/chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">rest</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">api</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">4</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">rest</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">api</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">stopped</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">command</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">server chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">8080 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">bind 0.0.0.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">8090 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">insecure</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;8090:8090&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">depends_on</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> chirpstack</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">postgres</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> postgres</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">14</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">postgres</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">stopped</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> ./configuration/postgresql/initdb</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">/docker</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">entrypoint</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">initdb.d</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> postgresqldata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">/var/lib/postgresql/data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">environment</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> POSTGRES_USER=chirpstack</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> POSTGRES_PASSWORD=chirpstack</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> POSTGRES_DB=chirpstack</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">redis</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> redis</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">7</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">alpine</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">redis</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">stopped</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">command</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> redis</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">server </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">save 300 1 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">save 60 100 </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">appendonly no</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> redisdata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">/data</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">mosquitto</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> eclipse</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">mosquitto</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token number">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">container_name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> chirpstack</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">mosquitto</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">restart</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> unless</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">stopped</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">ports</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;1883:1883&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain"> ./configuration/mosquitto/config/</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">/mosquitto/config/</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">volumes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">postgresqldata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">redisdata</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token key atrule">networks</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">default</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> helium</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">iot</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">net</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">external</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> </span><span class="token boolean important">true</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-external-docker-network">Create External Docker Network<a href="#create-external-docker-network" class="hash-link" aria-label="Direct link to Create External Docker Network" title="Direct link to Create External Docker Network">​</a></h2>
<p>For this example we will create an external docker network called <code>helium-iot-net</code> which we will
attach all the containers running chirpstack. If you&#x27;re familiar with docker networking and already
have an existing docker network you intend on using adjust accordingly.</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_OeMC">Create external docker network</div><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">docker network create helium-iot-net</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="run-chirpstack">Run ChirpStack<a href="#run-chirpstack" class="hash-link" aria-label="Direct link to Run ChirpStack" title="Direct link to Run ChirpStack">​</a></h2>
<p>From the root of the <code>chirpstack-docker</code> directory, run <code>docker compose up --detach</code> to start the
containers defining the ChirpStack instance in the background. Container logs can be accessed by
running <code>docker compose logs --follow</code> and the ChirpStack instance can be taken down by running
<code>docker compose down</code></p>
<p>The ChirpStack web console should now be accessible at <code>http://&lt;public_ip_address&gt;:8080</code>. The
default initial login credentials are:</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>Default ChirpStack First Logon</div><div class="admonitionContent_BuS1"><p><strong>Username:</strong> admin<br>
<strong>Password:</strong> admin</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="next-steps">Next Steps<a href="#next-steps" class="hash-link" aria-label="Direct link to Next Steps" title="Direct link to Next Steps">​</a></h2>
<p>Now that the LNS is operational, if you have not already done so proceed to establish the routing
rules. This ensures that the Helium IOT Network accurately directs device packets to the designated
LNS. Learn how to implement this in the <a href="https://docs.helium.com/iot/run-an-lns/configure-routing-rules/#generate-route-in-helium-config-service" target="_blank" rel="noopener noreferrer">Configure Routing Rules</a> guide.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/chirpstack-hpr.github.io/docs/tags/chirpstack-docker">chirpstack-docker</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/chirpstack-hpr.github.io/docs/tags/chirpstack-toml">chirpstack.toml</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/chirpstack-hpr.github.io/docs/tags/docker-compose">docker compose</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/chirpstack-hpr.github.io/docs/tags/docker-compose-yml">docker-compose.yml</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/chirpstack-hpr.github.io/docs/tags/helium-config-service-cli">helium-config-service-cli</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/ccall48/chirpstack-hpr.github.io/tree/master/docs/docs/02-chirpstack-helium.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/chirpstack-hpr.github.io/docs/intro"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Project Intro</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/chirpstack-hpr.github.io/docs/chirpstack-hpr-setup"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Chirpstack-HPR Setup</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#infrastructure-requirements" class="table-of-contents__link toc-highlight">Infrastructure Requirements</a></li><li><a href="#server-configuration" class="table-of-contents__link toc-highlight">Server Configuration</a></li><li><a href="#chirpstack-port-accessibility" class="table-of-contents__link toc-highlight">ChirpStack Port Accessibility</a></li><li><a href="#chirpstack-configuration" class="table-of-contents__link toc-highlight">ChirpStack Configuration</a><ul><li><a href="#gather-helium-devaddr-subnet-information-for-oui" class="table-of-contents__link toc-highlight">Gather Helium DevAddr Subnet Information for OUI</a></li><li><a href="#update-chirpstacktoml" class="table-of-contents__link toc-highlight">Update chirpstack.toml</a></li><li><a href="#update-docker-composeyml" class="table-of-contents__link toc-highlight">Update docker-compose.yml</a></li><li><a href="#example-of-a-complete-docker-composeyml-file" class="table-of-contents__link toc-highlight">Example of a complete <code>docker-compose.yml</code> file</a></li></ul></li><li><a href="#create-external-docker-network" class="table-of-contents__link toc-highlight">Create External Docker Network</a></li><li><a href="#run-chirpstack" class="table-of-contents__link toc-highlight">Run ChirpStack</a></li><li><a href="#next-steps" class="table-of-contents__link toc-highlight">Next Steps</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/chirpstack-hpr.github.io/docs/chirpstack-helium">Chirpstack Helium</a></li><li class="footer__item"><a class="footer__link-item" href="/chirpstack-hpr.github.io/docs/chirpstack-hpr-setup">Chirpstack-HPR Setup</a></li><li class="footer__item"><a href="https://www.chirpstack.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">ChirpStack Docs</a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community Links</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.helium.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Helium Network<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://docs.helium.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Helium Docs<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://discord.gg/helium" target="_blank" rel="noopener noreferrer" class="footer__link-item">Helium Discord<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://x.com/helium" target="_blank" rel="noopener noreferrer" class="footer__link-item">X<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ccall48/chirpstack-hpr" target="_blank" rel="noopener noreferrer" class="footer__link-item">Chirpstack-HPR GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.helium.foundation/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Helium Foundation<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://mappers.hexato.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Helium IOT Mapping<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Chirpstack-HPR.</div></div></div></footer></div>
</body>
</html>